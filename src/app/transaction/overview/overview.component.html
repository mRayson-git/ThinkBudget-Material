<h1>Overview</h1>
<div *ngIf="!transactions">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="transactions && transactions.length == 0; else showTransactions">
    There are no transactions to display.
</div>
<ng-template #showTransactions>
    <div class="table-container">
        <mat-table matSort [dataSource]="transactions" *ngIf="transactions">
            <ng-container matColumnDef="account_name">
                <mat-header-cell *matHeaderCellDef>Account</mat-header-cell>
                <mat-cell *matCellDef="let element">{{element.bankAccountName | uppercase}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="trans_payee">
                <mat-header-cell *matHeaderCellDef>Payee</mat-header-cell>
                <mat-cell *matCellDef="let element">{{element.transPayee | uppercase}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="trans_type">
                <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
                <mat-cell *matCellDef="let element">{{element.transType | uppercase}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="trans_amount">
                <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>
                <mat-cell *matCellDef="let element">{{abs(element.transAmount) | currency}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="trans_date">
                <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">Date</mat-header-cell>
                <mat-cell *matCellDef="let element">{{element.transDate.toDate() | date}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="trans_note">
                <mat-header-cell *matHeaderCellDef>Note</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <mat-icon *ngIf="element.transNote; else noNote">sticky_note_2</mat-icon>
                    <ng-template #noNote></ng-template>
                </mat-cell>
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row matRipple *matRowDef="let row; columns: displayedColumns;" (click)="editElement(row)"></mat-row>
        </mat-table>
    </div>
</ng-template>

